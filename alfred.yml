tdd*:
    summary: TDD
    watch: '.*\.go$'
    tasks: test

test*:
    summary: Test
    command: go test --cover

build*:
    summary: Build docker container
    command: |
        docker build -t kcmerrill/crush .

push*:
    summary: Deploy to dockerhub
    command: docker push kcmerrill/crush:latest

deploy:
    summary: Deploy
    tasks: build push

start:
    summary: Start Crush in a docker container
    command: |
        docker run -P -d --name crush kcmerrill/crush
